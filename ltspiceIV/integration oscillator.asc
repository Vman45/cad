Version 4
SHEET 1 1156 800
WIRE -512 -80 -528 -80
WIRE -496 -48 -496 -80
WIRE -512 0 -512 -80
WIRE -400 0 -432 0
WIRE -688 32 -704 32
WIRE -608 32 -608 -80
WIRE -592 32 -608 32
WIRE -848 48 -880 48
WIRE -736 48 -768 48
WIRE -512 48 -512 0
WIRE -512 48 -528 48
WIRE -592 64 -608 64
WIRE -160 64 -176 64
WIRE -80 64 -96 64
WIRE -608 96 -608 64
WIRE -976 112 -1168 112
WIRE -880 112 -880 48
WIRE -880 112 -912 112
WIRE -848 112 -880 112
WIRE -736 128 -736 48
WIRE -736 128 -784 128
WIRE -704 128 -704 32
WIRE -704 128 -736 128
WIRE -512 128 -704 128
WIRE -400 128 -400 0
WIRE -400 128 -432 128
WIRE -336 128 -400 128
WIRE -848 144 -880 144
WIRE -336 144 -336 128
WIRE -288 144 -336 144
WIRE -176 144 -176 64
WIRE -176 144 -208 144
WIRE -160 144 -176 144
WIRE -80 144 -80 64
WIRE 64 144 -80 144
WIRE -1168 160 -1168 112
WIRE -80 160 -80 144
WIRE -80 160 -96 160
WIRE -880 176 -880 144
WIRE -448 176 -448 -48
WIRE -160 176 -176 176
WIRE -496 208 -496 176
WIRE -176 208 -176 176
WIRE -1168 256 -1168 240
WIRE -320 288 -320 256
WIRE -320 400 -320 368
WIRE -256 416 -256 384
WIRE -256 416 -288 416
WIRE -448 432 -448 176
WIRE -352 432 -448 432
WIRE -448 752 -448 432
WIRE -208 448 -288 448
WIRE -176 448 -208 448
WIRE -80 448 -80 160
WIRE -80 448 -96 448
WIRE -320 496 -320 464
WIRE -320 608 -320 576
WIRE -352 752 -448 752
WIRE -208 752 -208 448
WIRE -208 752 -272 752
FLAG -176 208 0
FLAG -1168 256 0
FLAG -608 96 0
FLAG -496 -80 0
FLAG -496 208 0
FLAG -880 176 0
FLAG -320 256 0
FLAG -320 608 0
FLAG -256 384 0
FLAG 64 144 Triangle_Out
SYMBOL Opamps\\opamp -128 96 R0
SYMATTR InstName U1
SYMBOL res -304 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap -160 80 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName C1
SYMATTR Value 0.001µ
SYMBOL voltage -1168 144 R0
WINDOW 0 -40 6 Left 2
WINDOW 3 -69 38 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value PWL(0 -0.4 1 -0.64)
SYMBOL Opamps\\opamp -560 -16 R0
SYMATTR InstName U5
SYMBOL res -704 48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL res -624 -64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R10
SYMATTR Value 100k
SYMBOL sw -528 128 R270
SYMATTR InstName S1
SYMBOL sw -416 0 R90
SYMATTR InstName S2
SYMBOL Opamps\\opamp -816 64 R0
SYMATTR InstName U6
SYMBOL diode -912 96 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName D3
SYMBOL res -864 64 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R11
SYMATTR Value 10k
SYMBOL Comparators\\LTC1441 -320 368 M0
SYMATTR InstName U3
SYMBOL voltage -320 480 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -5
SYMBOL voltage -320 384 R180
WINDOW 0 24 96 Left 2
WINDOW 3 24 16 Left 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V3
SYMATTR Value 5
SYMBOL res -80 432 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R3
SYMATTR Value 1k
SYMBOL res -368 768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R4
SYMATTR Value 2k
TEXT -392 -40 Left 2 !.lib opamp.sub
TEXT -416 -112 Left 2 !.tran 1 uic
TEXT -400 -80 Left 2 !.model SW SW(Ron=0.001 Roff=1000Meg Vt=0 Vh=0.1)
